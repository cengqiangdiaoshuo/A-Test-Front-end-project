<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>星期图片显示</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }

        #image-container {
            text-align: center;
        }

        img {
            max-width: 80vw;
            max-height: 80vh;
            display: block;
            margin: 0 auto;
            border: 5px solid #333;
            border-radius: 10px;
        }
    </style>
</head>

<body>
    <div id="image-container">
        <img src="" alt="星期图片" id="day-image">
    </div>

    <script>
        function getBeijingTime() {
    return new Promise((resolve, reject) => {
        fetch('https://worldtimeapi.org/api/timezone/Asia/Shanghai')
          .then(response => {
                if (!response.ok) {
                    throw new Error('网络响应不正常');
                }
                return response.json();
            })
          .then(data => {
                const beijingTime = new Date(data.datetime);
                resolve(beijingTime);
            })
          .catch(error => {
                reject(error);
            });
    });
}

        // 定义星期对应的图片文件名（注意：getDay()返回0为周日，1 - 6为周一到周六）
        const weekImages = [
            'sun.jpg',  // 0: 周日
            'mon.jpg',  // 1: 周一
            'tue.jpg',  // 2: 周二
            'wed.jpg',  // 3: 周三
            'thu.jpg',  // 4: 周四
            'fri.jpg',  // 5: 周五
            'sat.jpg'   // 6: 周六
        ];

        getBeijingTime().then((now) => {
    const dayOfWeek = now.getDay();
    const imagePath = `images/${weekImages[dayOfWeek]}`;
    const imageElement = document.getElementById('day-image');
    imageElement.src = imagePath;
    imageElement.alt = `星期${dayOfWeek === 0 ? '日' : dayOfWeek}图片`;

    setInterval(() => {
        getBeijingTime().then((newNow) => {
            const newDay = newNow.getDay();
            if (newDay !== dayOfWeek) {
                window.location.reload();
            }
        });
    }, 1000);
}).catch((error) => {
    console.error('获取北京时间失败:', error);
    const now = new Date();
    const dayOfWeek = now.getDay();
    const imagePath = `images/${weekImages[dayOfWeek]}`;
    const imageElement = document.getElementById('day-image');
    imageElement.src = imagePath;
    imageElement.alt = `星期${dayOfWeek === 0 ? '日' : dayOfWeek}图片`;
});
    </script>
</body>

</html>
    